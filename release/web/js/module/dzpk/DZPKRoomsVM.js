var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])};return function(o,e){function a(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}}();define(["require","exports","./DZPKRoomsView","../../mbase/data/Player","../../mbase/base/MViewModel"],function(t,o,e,a,r){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function o(){var o=t.call(this)||this;return o.setClass=e.DZPKRoomsView,o.setViewPath="game_dzpk/DZPKRoom",o.setAtlasName="res/atlas/dzpk/roomHallScene.atlas,res/atlas/dzpk/zh-cn/roomHallScene.atlas",o}return __extends(o,t),o.prototype.onShowHelp=function(){this.showOther("DZPKHelpVM")},o.prototype.onShowRecord=function(){this.showOther("DZPKRecordVM")},o.prototype.backToHall=function(){this.showOther("SCENE_HallVM")},o.prototype.onChoseRoom=function(t){var o=this.getRoomInfo(t);o||CFun.throw("所选房间"+t+"不存在");var e=this.data.gold,a=o.chip;if(e<a)CFun.dialog("游戏币不足，匹配失败，请充值后继续游戏！",null,null,"确 定");else{this.data.lastRoomId=o.id;var r=o.maxchip>=e||0==o.maxchip?e:o.maxchip,n=CFun.getLSItem(StorageKeys.DZPKTakeScore+this.data.lastRoomId,"Object"),s=void 0==n.takeScore?o.defaultTakeIn:n.takeScore;s=(s=0==(s=s<r?s:r)?o.defaultTakeIn:s)>e?e:s,void 0==n.isautoTakeScore&&(n.isautoTakeScore=!1);var i={playerMoney:e,max:r,min:a,take:s,isAuto:n.isautoTakeScore,roomInfo:o};this.showOther("DZPKTakeVM",i)}},o.prototype.getRoomInfo=function(t){var o=null;return this.playerData.roomDataList[a.Player.HOLDEM][t]&&(o=this.playerData.roomDataList[a.Player.HOLDEM][t]),o},o.prototype.onShow=function(o){t.prototype.onShow.call(this,this.playerData),this.sendData(16778269,[a.Player.HOLDEM])},o.prototype.eventInit=function(){},o}(r.MViewModel);o.DZPKRoomsVM=n});