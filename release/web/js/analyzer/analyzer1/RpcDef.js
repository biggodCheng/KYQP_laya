var RpcDef=function(){function e(){this._dump=Dump,e._version=this._dump.Digi,e._type_writers={},e._type_readers={},e._type_defs={},e._method_id={},e._class_id={},e._class_props={},e._pro_id={},this.initDump()}return e.getTypeReader=function(e){var t=this._type_readers[e];return t||CFun.throw("getTypeReader的"+e+"不存在"),t},e.getTypeWriter=function(e){var t=this._type_writers[e];return t||CFun.throw("getTypeWriter的"+e+"不存在"),t},e.getMethodByID=function(e){var t=this._method_id[e];return t||CFun.throw("getMethodByID的"+e+"不存在"),t},e.getModelClassByID=function(e){var t=this._class_id[e];return t||CFun.throw("getModelClassByID的"+e+"不存在"),t},e.getProByID=function(e){var t=this._pro_id[e];return t||CFun.log("getProByID的"+e+"不存在"),t},e.newStruct=function(t){var r=this._type_defs[t];return r&&r.id>=e.STRUCT_BASE_ID?Struct.createNew(r):null},e.newArray=function(e){var t=this._type_defs[e];return t?new TypeArray(t):null},Object.defineProperty(e,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.initDump=function(){var t=this._dump.MethodList;t||CFun.throw("dump中的MethodList不存在");var r,i,s=t.length;for(r=0;r<s;r++)i=t[r],e._method_id[i.id]=i;var n=this._dump.TypeList;for(n||CFun.throw("dump中的TypeList不存在"),s=n.length,r=0;r<s;r++){var _=new TypeDef(n[r]);e._type_defs[_.id]=e._type_defs[_.name]=_;var p=_.id<e.STRUCT_BASE_ID?_.name:"struct",a=RpcType[p+"Writer"].bind(RpcType),o=RpcType[p+"Reader"].bind(RpcType);e._type_writers[_.id]=a,e._type_writers[_.name]=a,e._type_readers[_.id]=o,e._type_readers[_.name]=o}var d=this._dump.EntityList;for(d||CFun.throw("dump中的EntityList不存在"),s=d.length,r=0;r<s;r++)i=d[r],e._class_id[i.id]=i.className;var u=this._dump.PropList;for(u||CFun.throw("dump中的PropList不存在"),s=u.length,r=0;r<s;r++)if("CLIENT"==(i=u[r]).flag||"ALLCLIENTS"==i.flag){var y=new PropDef(i);e._pro_id[y.id]=y,e._class_props[y.className]||(e._class_props[y.className]={}),e._class_props[y.className][y.id]=y,e._class_props[y.className][y.name]=y}},e.STRUCT_BASE_ID=20,e}();