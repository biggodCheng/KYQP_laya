var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ViewModel=function(e){function t(){var t=e.call(this)||this;return t._data=null,t._event_manager=EventManager.ins,t._event_list=[],t}return __extends(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data||CFun.throw("ViewModel的this._data为空"),this._data},enumerable:!0,configurable:!0}),t.prototype.regist=function(e,t){this._event_manager||CFun.throw("ViewModel的regist中的this._event_manager还未初始化"),this._event_manager.on(e,t,this),this._event_list.push({type:e,listener:t})},t.prototype.dispach=function(e,t){void 0===t&&(t=null),this._event_manager||CFun.throw("ViewModel的dispach中的this._event_manager还未初始化"),this._event_manager.dispatch(e,t)},t.prototype.eventRemove=function(){var e=0,t=this._event_list.length;for(e=0;e<t;e++)this._event_manager.off(this._event_list.type,this._event_list.listener,this)},t.prototype.eventInit=function(){},t.prototype.vmShow=function(e){this._data=e,this.cview.showME()},t.prototype.setParent=function(e){this.cview.setParent(e)},Object.defineProperty(t.prototype,"setAtlasName",{set:function(e){this.cview.setAtlasName(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setViewPath",{set:function(e){this.cview.setViewPath(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setClass",{set:function(e){this.cview.setClass(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"view",{get:function(){return this.cview.display},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cview",{get:function(){return this._cview||CFun.throw("_cview还未被初始化！"),this._cview},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"is_show",{get:function(){return this.cview.isShow()},enumerable:!0,configurable:!0}),t.prototype.vmType=function(){return this.view.viewType},t.prototype.preClose=function(){this.eventRemove()},t.prototype.closeNow=function(){this.view.beClose(),this.cview.closeME()},t.prototype.afterClose=function(){},t.prototype.preShow=function(){this.eventInit()},t.prototype.onShow=function(e){this.vmShow(e)},t.prototype.afterShow=function(){this.view.viewInit(this._data)},t.prototype.getViewType=function(){return this.view.viewType},t}(SendHandel);