var VMManager=function(){function t(){this._event_manager=EventManager.ins,this._event_manager.on(t.SHOW_VIEW,this.onInitAndShow,this),this.eventInit()}return t.prototype.eventInit=function(){},t.prototype.regist=function(t,a){this._event_manager.on(t,a,this)},t.prototype.onInitAndShow=function(a){var e=t.static_dic_vm[a.className];if(e)e.onShow(a.exData),laya.utils.Pool.recover("InitData",a);else{var i=laya.utils.ClassUtils.getRegClass(a.className);"string"==typeof i?require([i],function(n){var o=i.substr(i.lastIndexOf("/")+1);(e=new n[o])&&(t.static_dic_vm[a.className]=e,e.onShow(a.exData),laya.utils.Pool.recover("InitData",a))}):(e=laya.utils.ClassUtils.getInstance(a.className))&&(t.static_dic_vm[a.className]=e,e.onShow(a.exData),laya.utils.Pool.recover("InitData",a))}},t.prototype.closeAll=function(){for(var a in t.static_dic_vm)t.static_dic_vm[a].closeNow()},t.prototype.closeScene=function(){var a=null;for(var e in t.static_dic_vm)(a=t.static_dic_vm[e]).getViewType()==ComView.SCENE&&a.closeNow()},t.prototype.closeWindow=function(){var a=null;for(var e in t.static_dic_vm)(a=t.static_dic_vm[e]).getViewType()==ComView.WINDOW&&a.closeNow()},t.SHOW_VIEW="SHOW_VIEW",t.static_dic_vm={},t}();